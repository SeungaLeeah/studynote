<!--
* @filename    : naver.HTML
* @author      : 이승아(leeah0913@gmail.com)
* @description : 정규표현식 검사 수행
-->
<!--참조
 http://meyerweb.com/eric/tools/css/reset/ 
   v2.0 | 20110126
   License: none (public domain)
-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naver</title>
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/naver_css.css">
    <script src="https://kit.fontawesome.com/b8c071f28b.js" crossorigin="anonymous"></script>

</head>
<body>
    <!--HEADER-->
    <div id="header">
        <h1 id="logo-main">NAVER</h1>
        <img id="logo-main_img" src="img/01_logo.png" alt="logo">
    </div>


     <!--가입폼 시작-->
    <form name="join-form" id="join-form" class="form_contain">
        <div class="form-group">
            <label for="user_id" class="col-md-2">아이디<span class="identify"></span></label>
            <div class="col-md-10">
                <input type="text" name="user_id" id="user_id" class="form-control id-info"/>
                <span class="info">@naver.com</span>
            </div>
        </div>

        <div class="form-group">
            <label for="user_" class="col-md-2">비밀번호<span class="identify"></span></label>
            <div class="col-md-10 pw_box">
                <input type="password" name="user_pw" id="user_pw" class="form-control user_pw_icon"/>
                <i class="fa fa-lock pw_icon" aria-hidden="true"></i>
            </div>
        </div>

        <div class="form-group">
            <label for="user_pw" class="col-md-2">비밀번호 재확인<span class="identify"></span></label>
            <div class="col-md-10 pw_box">
                <input type="password" name="user_pw_re" id="user_pw_re" class="form-control user_pw_icon2" />
                <i class="fa fa-lock pw_icon" aria-hidden="true"></i>
            </div>
        </div>
        
        <div class="form-group">
            <label for="user_name" class="col-md-2">이름<span class="identify"></span></label>
            <div class="col-md-10">
                <input type="text" name="user_name" id="user_name" class="form-control"/>
            </div>
        </div>    


        <div class="form-group">
            <label for="user_birth" class="col-md-2">생년월일<span class="identify"></span></label>
            <div class="col-md-10">
                <input type="text" name="yy" id="year" class="form-control user-birth"  placeholder ="년(4자)"/>
                <select name="month" id="month" class="form-control user-birth">
                        <option name="mm" value=""selected>월</option>
                        <option name="mm"  value="1"> 1</option>
                        <option name="mm" value="2"> 2</option>
                        <option name="mm" value="3"> 3</option>
                        <option name="mm" value="4"> 4</option>
                        <option name="mm"  value="5"> 5</option>
                        <option name="mm"  value="6"> 6</option>
                        <option name="mm"  value="7"> 7</option>
                        <option name="mm"  value="8">8</option>
                        <option name="mm"  value="9">9</option>
                        <option name="mm"  value="10">10</option>
                        <option name="mm"  value="11">11</option>
                        <option name="mm"  value="12">12</option>
                </select>
                <input type="text" name="dd" id="day" class="form-control user-birth"  placeholder ="일"/>
             </div>
        </div>

        <div class="form-group">
            <label for="gender1" class="col-md-2">성별<span class="identify"></span></label>
            <div class="col-md-10">
                <select name="gender" id="gender">
                    <option name="none"  value=""selected> 성별</option>
                    <option name="gender" value="M"> 남자</option>
                    <option name="gender"  value="F"> 여자</option>
                    <option name="gender" value="N"> 선택 안함</option>
                </select>
            </div>
        </div>


        <div class="form-group">
            <label for="email" class="col-md-2">본인확인 이메일<span class="identify">(선택)</span></label>
            <div class="col-md-10">
                <input type="email" name="email" id="email" class="form-control"  placeholder ="선택입력"/>
             </div>
         </div>
 
        <div class="form-group">
            <label for="tel" class="col-md-2">휴대전화<span class="identify"></span></label>
            <div class="col-md-10">
                <select>
                    <option name="tel" id="tel1" class="form-control tel-option" selected>대한민국 +82
                    <option name="tel" id="tel2" class="form-control teloption">일본 +81
                    <option name="tel" id="tel3" class="form-control tel-option"> 중국 +86
                </select>
                <div class="tel">
                <input type="tel" name="tel" id="tel" class="form-control tel-check"  placeholder ="전화번호 입력"/>
                <input type="button" name="tel" id="tel_btn" class="form-control" value ="인증번호 받기"/>
                </div>
                <input type="text" name="tel_re" id="tel-re" class="form-control" style="background-color: #eee;"  placeholder ="인증번호를 입력하세요."/>
            </div>
        </div>

        <div class="form-group">
            <div class="text-center">
                <button type="submit" name="form-submit" id="form-submit" class="form-submit">가입하기</button>
            </div>
        </div>
    </form>
    <footer>
        <div id="underline">
            <span>이용약관</span>
            <span>개인정보처리방침</span>
            <span>책임의 한계와 법적고지</span>
            <span>회원정보 고객센터</span>
        </div>
        <div id="copyright">
            <img src="img/01_logo.png" alt="logo">
            <span>Copyright<a href="https://www.navercorp.com/">NAVER Corp.</a>All Rights Reserved.</span>
        </div>
    </footer>


        <!--정규표현식 검사 객체를 참조한다.-->
        <script src="js/BadRequestException.js"></script>
        <script src="js/RegexHelper.js"></script>
        <script>
            document.querySelector("#join-form").addEventListener("submit", e=> {
                e.preventDefault();
    
                const regexHelper = new RegexHelper();
    
                try{
                    /* 아이디 검사 */
                    regexHelper.value('#user_id', '아이디를 입력하세요.')
                    regexHelper.minLength('#user_id', 5, '아이디는 최소 5자 이상 입력 가능합니다.');
                    regexHelper.maxLength('#user_id', 20, '아이디는 최대 20자 까지만 입력 가능합니다.');
                    regexHelper.engNum('#user_id', '아이디는 영어와 숫자만 입력 가능합니다.');
    
                    /* 비밀번호 검사 */
                    regexHelper.value('#user_pw', '비밀번호를 입력하세요.');
                    regexHelper.minLength('#user_pw', 8, '비밀번호는 최소 8자 이상 입력이 가능합니다.');
                    regexHelper.maxLength('#user_pw', 16, '비밀번호는 회대 16자 까지만 입력 가능합니다.');
                    regexHelper.engNum('#user_pw', '비밀번호는는 영어와 숫자 특수기호를 사용하세요.');
                    regexHelper.compareTo('#user_pw', '#user_pw_re', '비밀번호가 일치하지 않습니다.');


                    /* 이름 검사 */
                    regexHelper.value('#user_name', '이름을 입력하세요.');
                    regexHelper.minLength('#user_name', 2, '이름은 최소 2자 이상 입력 가능합니다.');
                    regexHelper.maxLength('#user_name',20, '이름은 최대 20자 까지만 입력 가능합니다.');
                    regexHelper.korEng('#user_name', '이름은 한글만 입력 가능합니다.')

                    /*생년월일 검사*/
                    regexHelper.birthYear('#year', '태어난 년도를 정확하게 입력하세요.');
                    regexHelper.maxLength('#year', 4, '태어난 년도 4자리를 정확하게 입력하세요.');
                    regexHelper.value('#month','태어난 월을 선택해주세요.')
                    regexHelper.birthDay('#day','태어난 일을 정확하게 입력하세요.');
                    regexHelper.maxLength('#day', 2, '태어난 일 2자리를 정확하게 입력하세요.');

                    /*성별 검사*/
                    
                    /* 이메일 검사 */
                    regexHelper.value('#email', '이메일을 입력하세요.');
                    regexHelper.email('#email', '이메일 주소가 잘못되었습니다.');
    

                    /* 연락처 검사 */
                    regexHelper.value('#tel', '연락처를 입력하세요.');
                    regexHelper.phone('#tel', '연락처가 잘못 되었습니다.');
                    regexHelper.num('#tel-re',  '인증번호가 잘못되었습니다.');

                    
                } catch(e) {
                    alert(e.message);
                    console.error(e);
                    document.querySelector(e.selector).focus();
                    return;
                }
                // 처리 완료
                alert("입력형식 검사 완료!!!");
            });
        </script>
    </body>
    </html>
